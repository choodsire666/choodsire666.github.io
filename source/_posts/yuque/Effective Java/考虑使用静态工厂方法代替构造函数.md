---
title: 考虑使用静态工厂方法代替构造函数
urlname: vareg4hky8e5bi1c
date: '2024-06-30 12:08:18'
updated: '2024-06-30 12:33:14'
description: '举例子：Java中的包装类中的valueOf方法，通过静态方法valueOf来创建或返回实例对象。public static Boolean valueOf(boolean b) {     return (b ? Boolean.True : Boolean.False); }优点：与构造函...'
cover: 'https://raw.githubusercontent.com/choodsire666/blog-img/main/考虑使用静态工厂方法代替构造函数/cover.jpg'
---
举例子：
Java中的包装类中的valueOf方法，通过静态方法valueOf来创建或返回实例对象。
```java
public static Boolean valueOf(boolean b) {
    return (b ? Boolean.True : Boolean.False);
}
```
优点：

   - 与构造函数不同，静态工厂方法具有名字。如果一个构造函数的参数并没有确切地描述被返回的对象，那么选用适当名字的静态工厂可以使一个类更易于使用，并且相应的客户代码更容易阅读。
   - 与构造函数不同，它们每次被调用的时候，不要求非得创建一个新的对象。例如Integer.valueOf就通过预创建出对象并将实例进行缓存起来，来避免重复创建对象。或又是可以实现单例模式。
   - 与构造函数不同，它们可以返回类型的子类型的对象。可以强制让使用者使用接口而不是其子类。例如Collections中的静态方法，提供了不可修改的集合、同步集合等。而且静态工厂方法返回的子对象类型可以可以动态变化的。可以通过读取配置文件的配好的全限定类名，在静态工厂方法中读取并通过判断使用newInstance实例化对象。

缺点：

   - 类如果不含公有的或受保护的构造函数，就不能被子类化。
   - 它们与其他静态函数没有任何区别。因此在接口文档上难以描述，除非遵守命名习惯可以将这个缺点减少到最少。
